<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
 </head>
 <body>
  <header>
   <h4>webstream sample</h4>
   <p>Set ouisiti with the following configuration part:</p>
   <pre>        webstream = {
                docroot = "srv/www/webstream";
		options = "multipart";
        };</pre>
   <p>and add the mime-types for each video steam to support:</p>
   <pre>
   mimetypes = ({
		ext = ".mp3";
		mime = "audio/mp3";
	},
	{
		ext = ".ogg";
		mime = "audio/ogg";
	},
	{
		ext = ".mp4,.m4v";
		mime = "video/mp4";
	},
	{
		ext = ".avi";
		mime = "video/avi";
        },
        {
                ext = ".h264";
                mime = "video/h264";
        },
        {
                ext = ".mjpeg";
                mime = "video/x-motion-jpeg";
        });
   </pre>
   <p><b>mjpeg</b> is a very simple and buggy camera streamer.<br/>
   It use <b>v4l2</b> to send the stream from webcam to the <b>mod_webstream</b> module.<br/>
   Launch this application in the <b>docroot</b> directory.<br/></p>
   <p>For a stream of jpeg images into <b>mutli-part</b> content, Ouistiti mus be set with the "multipart" option of the webstream's configuration.<br/>
   <pre>
		options = "multipart";
   </pre>
   <code>mjpeg -u -o camera.jpg</code></p>
   <p>For pure video stream the webstream module must be configurated without any option.<br/>
   <code>mjpeg -u -o camera.h264</code><br/>
   <code>mjpeg -u -o camera.mjpeg</code></p>
   </p>
   <p>Prefer <b>ustreamer</b> or <b>mpeg-streamer</b> for real streamer.</p>
  </header>
  <main>
   <div>
    <p>Motion-Jpeg with multi-part content</p>
    <img src="camera.jpg" />
   </div>
   <div>
    <p>The mjpeg format from camera is not supported by the web browser.<br/>
    The streamer may be use with an external application like ffmpeg or vlc.<br/>
    <code>vlc http://127.0.0.1/camera.mjpeg</code></p>
    <img src="camera.mjpeg" disable>
    <video autoplay="autoplay" controls disbale>
     <source src="camera.mjpeg">
    </video>
   </div>
   <div>
    <p>Some webcam support h264 encoding and the stream may be embedded inside a <code>video</code> tags.</p>
    <video autoplay="autoplay" controls >
     <source src="camera.h264">
    </video>
   </div>
  </main>
 </body>
</html>
